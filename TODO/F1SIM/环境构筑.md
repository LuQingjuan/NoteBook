### 环境设置
* 代理配置
    ```
    export http_proxy=http://centos5g:1249124912@10.128.145.88:8080/
    export https_proxy=http://centos5g:1249124912@10.128.145.88:8080/
    ```
* 查看代理
    ```
    $ echo $http_proxy
    $ echo $https_proxy
    ```
* 源码
    [free5GC](https://github.com/free5gc/free5gc-compose)
    [oai](https://gitlab.eurecom.fr/oai/openairinterface5g)

### free5GC 安装
* 安装 gtp5g
    [Readme](https://github.com/free5gc/gtp5g)
* 安装 Docker
    [Readme](https://docs.docker.com/engine/install/)
* 安装 Docker Compose
    [Readme](https://docs.docker.com/compose/install/)
    * docker设置代理
    > cd /etc/systemd/
    > sudo mkdir -p /etc/systemd/system/docker.service.d
    > sudo touch /etc/systemd/system/docker.service.d/proxy.conf
    > vi /etc/systemd/system/docker.service.d/proxy.conf
    > sudo vi /etc/systemd/system/docker.service.d/proxy.conf
    > sudo systemctl daemon-reload
    * 重启docker
    > sudo systemctl restart docker
* 安装 free5gc
    [Readme](https://github.com/free5gc/free5gc-compose/tree/master)
    * 拷贝源码 或者 打[patch](src/free5gc.patch)
    > scp -r jftt@10.167.14.29:/home/jftt/work_jftt/yinc/free5gc-compose.tar.gz .
    * 安装
    > cd free5gc-compose
    > make all
    > docker compose -f docker-compose-build.yaml build
    * 清理中间docker image
    > docker rmi $(docker images -f "dangling=true" -q)
* 数据库导入
    [insert_db.js](src/insert_db.js)
    > docker cp insert_db.js mongodb:/opt
    > docker exec -it mongodb mongosh mongodb://127.0.0.1:27017/free5gc /opt/insert_db.js
### CU DU 安装
* 安装 protoc-c
> sudo -E apt-get install protobuf-c-compiler libprotobuf-c1 libprotobuf-c-dev

* 安装 forms
> sudo -E apt-get install libforms-bin libforms-dev




### 其他命令
* docker image 拷贝 save load
[docker image 拷贝 save load](https://blog.csdn.net/qq_38764450/article/details/126010138)
  * save
  > docker images | grep base
  > docker save free5gc/base:latest -o free5gc_base_latest.jar
  * load
  > scp jftt@10.167.14.29:/home/jftt/work_jftt/lu/free5gc_base_latest.jar .
  > sudo docker load < free5gc_base_latest.jar 

查看安装的所有软件
> dpkg -l     


* 查看系统版本
> lsb_release -a